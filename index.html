<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>11415132å°ˆæ¡ˆ - çŒœæ•¸å­—éŠæˆ²</title>
    <style>
        /* CSS æ¨£å¼æ”¾åœ¨é€™è£¡ */
        :root {
            --primary-color: #0070f3; /* Vercel è—è‰² */
            --background-color: #f8f8f8;
            --text-color: #333;
            --success-color: #28a745;
            --attention-color: #dc3545;
            --info-color: #ff9800; /* æ©™è‰²ç”¨æ–¼ç¯„åœæç¤º */
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--background-color);
            color: var(--text-color);
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        .container {
            background: white;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            max-width: 600px;
            width: 90%;
            transition: opacity 0.5s ease;
        }
        
        #welcome-screen {
            display: block; 
        }

        #game-screen {
            display: none;
            text-align: left;
        }

        h1 {
            color: var(--primary-color);
            font-size: 2.5em;
            margin-bottom: 0.5em;
        }

        p {
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .button {
            display: inline-block;
            padding: 10px 20px;
            margin-top: 15px;
            background-color: var(--primary-color);
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            transition: background-color 0.3s ease;
            cursor: pointer;
            border: none;
        }

        .button:hover {
            background-color: #005bb5;
        }

        #status-message {
            margin-top: 25px;
            font-weight: bold;
            color: var(--success-color); 
        }
        
        /* éŠæˆ²å°ˆç”¨æ¨£å¼ */
        #guessInput {
            padding: 10px;
            margin-right: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            width: 100px;
            text-align: center;
            font-size: 1em;
        }
        #resultMessage {
            margin-top: 20px;
            font-size: 1.2em;
            color: var(--text-color);
            min-height: 24px;
            text-align: center;
        }
        #currentRange {
            font-size: 1.1em;
            font-weight: bold;
            color: var(--info-color); /* çªå‡ºé¡¯ç¤ºç¯„åœæç¤º */
            margin-bottom: 15px;
        }
        /* é¡è‰²é¡åˆ¥ */
        .color-success { color: var(--success-color); }
        .color-attention { color: var(--attention-color); }
        .color-primary { color: var(--primary-color); }
        .color-info { color: var(--info-color); }

    </style>
</head>
<body>
    <div id="welcome-screen" class="container">
        <h1>ğŸ‘‹ æ­¡è¿ä¾†åˆ°æˆ‘çš„å°ˆæ¡ˆï¼</h1>
        <p>é€™æ˜¯ä¸€å€‹ç°¡å–®çš„ç¶²é ä»‹é¢ï¼Œé»æ“ŠæŒ‰éˆ•ï¼Œæˆ‘å€‘ä¾†ç©ä¸€å€‹**ç°¡å–®çš„å°éŠæˆ²**å§ï¼</p>
        <p>é»æ“Šä¸‹æ–¹æŒ‰éˆ•é€²å…¥éŠæˆ²ï¼</p>
        
        <button id="startGameButton" class="button">é–‹å§‹çŒœæ•¸å­—éŠæˆ²</button>
        
        <div id="status-message">ç­‰å¾…æ‚¨çš„æ“ä½œ...</div>

        <footer>
            <small>ç¨‹å¼ç¢¼ä½æ–¼ GitHub / éƒ¨ç½²æ–¼ Vercel</small>
        </footer>
    </div>

    <div id="game-screen" class="container">
        <h1 class="color-primary">ğŸ§  çŒœæ•¸å­—éŠæˆ²</h1>
        <p>æˆ‘å·²ç¶“é¸å¥½äº†ä¸€å€‹ 1 åˆ° 100 ä¹‹é–“çš„æ•¸å­—ã€‚è«‹è¼¸å…¥ä½ çš„çŒœæ¸¬ï¼š</p>
        
        <div id="currentRange" class="color-info">ç•¶å‰ç¯„åœï¼š1 åˆ° 100</div>
        
        <div style="text-align: center;">
            <input type="number" id="guessInput" min="1" max="100" placeholder="è¼¸å…¥ 1~100">
            <button id="submitGuessButton" class="button">çŒœï¼</button>
        </div>
        
        <div id="resultMessage" class="color-primary">è«‹è¼¸å…¥æ‚¨çš„çŒœæ¸¬ã€‚</div>
        <p id="attemptsLeft" style="text-align: center; margin-top: 15px;">æ‚¨é‚„æœ‰ 7 æ¬¡æ©Ÿæœƒã€‚</p>
        
        <button id="resetGameButton" class="button" style="background-color: var(--attention-color);">é‡æ–°é–‹å§‹</button>
    </div>

    <script>
        // JavaScript è…³æœ¬æ”¾åœ¨é€™è£¡
        const welcomeScreen = document.getElementById('welcome-screen');
        const gameScreen = document.getElementById('game-screen');
        const startGameButton = document.getElementById('startGameButton');

        const guessInput = document.getElementById('guessInput');
        const submitGuessButton = document.getElementById('submitGuessButton');
        const resultMessage = document.getElementById('resultMessage');
        const attemptsLeft = document.getElementById('attemptsLeft');
        const resetGameButton = document.getElementById('resetGameButton');
        const currentRangeDisplay = document.getElementById('currentRange'); // æ–°å¢ï¼šé¡¯ç¤ºç¯„åœçš„å…ƒç´ 

        let targetNumber;
        let attempts;
        const maxAttempts = 7; 
        
        // æ–°å¢ï¼šè¿½è¹¤æœ€å°å’Œæœ€å¤§ç¯„åœ
        let minRange;
        let maxRange;

        // æ›´æ–°ç¯„åœé¡¯ç¤º
        function updateRangeDisplay() {
            currentRangeDisplay.textContent = `ç•¶å‰ç¯„åœï¼š${minRange} åˆ° ${maxRange}`;
            guessInput.min = minRange; // æ›´æ–°è¼¸å…¥æ¡†çš„æœ€å°/æœ€å¤§å±¬æ€§
            guessInput.max = maxRange;
        }

        // åˆå§‹åŒ–éŠæˆ²ç‹€æ…‹
        function initializeGame() {
            targetNumber = Math.floor(Math.random() * 100) + 1;
            attempts = 0;
            minRange = 1;
            maxRange = 100;
            
            resultMessage.textContent = 'è«‹è¼¸å…¥æ‚¨çš„çŒœæ¸¬ã€‚';
            resultMessage.className = 'color-primary';
            attemptsLeft.textContent = `æ‚¨é‚„æœ‰ ${maxAttempts - attempts} æ¬¡æ©Ÿæœƒã€‚`;
            guessInput.value = '';
            guessInput.disabled = false;
            submitGuessButton.disabled = false;
            
            updateRangeDisplay(); // åˆå§‹åŒ–ç¯„åœé¡¯ç¤º
            guessInput.focus();
        }

        // æª¢æŸ¥çŒœæ¸¬æ•¸å­—çš„å‡½å¼
        function checkGuess() {
            if (submitGuessButton.disabled) return;
            
            const userGuess = parseInt(guessInput.value);

            // æª¢æŸ¥è¼¸å…¥æ˜¯å¦æœ‰æ•ˆï¼Œä¸¦æª¢æŸ¥æ˜¯å¦åœ¨ç•¶å‰ç¯„åœå…§
            if (isNaN(userGuess) || userGuess < minRange || userGuess > maxRange) {
                resultMessage.textContent = `â›” è«‹è¼¸å…¥ä¸€å€‹æœ‰æ•ˆçš„ ${minRange} åˆ° ${maxRange} ä¹‹é–“çš„æ•¸å­—ï¼`;
                resultMessage.className = 'color-attention';
                return;
            }

            attempts++;
            const remainingAttempts = maxAttempts - attempts;
            
            // çŒœå°
            if (userGuess === targetNumber) {
                resultMessage.textContent = `ğŸ‰ æ­å–œï¼æ‚¨åœ¨ ${attempts} æ¬¡å…§çŒœå°äº†ï¼æ•¸å­—å°±æ˜¯ ${targetNumber}ã€‚`;
                resultMessage.className = 'color-success';
                guessInput.disabled = true;
                submitGuessButton.disabled = true;
            } 
            // çŒœéŒ¯
            else {
                // æ ¹æ“šçŒœæ¸¬çµæœç¸®å°ç¯„åœ
                if (userGuess < targetNumber) {
                    // å¦‚æœçŒœå°äº†ï¼Œå‰‡å°‡æœ€å°ç¯„åœæ›´æ–°ç‚º userGuess + 1
                    minRange = userGuess + 1;
                    resultMessage.textContent = 'ğŸ“ˆ å¤ªå°äº†ï¼ç¯„åœå·²æ›´æ–°ã€‚';
                } else {
                    // å¦‚æœçŒœå¤§äº†ï¼Œå‰‡å°‡æœ€å¤§ç¯„åœæ›´æ–°ç‚º userGuess - 1
                    maxRange = userGuess - 1;
                    resultMessage.textContent = 'ğŸ“‰ å¤ªå¤§äº†ï¼ç¯„åœå·²æ›´æ–°ã€‚';
                }
                
                updateRangeDisplay(); // æ›´æ–°ç¯„åœé¡¯ç¤º
                
                if (remainingAttempts === 0) {
                    // æ©Ÿæœƒç”¨å®Œ
                    resultMessage.textContent = `ğŸ˜­ éŠæˆ²çµæŸï¼æ‚¨æ²’æœ‰æ©Ÿæœƒäº†ã€‚æ­£ç¢ºæ•¸å­—æ˜¯ ${targetNumber}ã€‚`;
                    resultMessage.className = 'color-attention';
                    guessInput.disabled = true;
                    submitGuessButton.disabled = true;
                } else {
                    // ç¹¼çºŒçŒœ
                    resultMessage.className = remainingAttempts <= 2 ? 'color-attention' : 'color-primary'; 
                }
            }

            attemptsLeft.textContent = `æ‚¨é‚„æœ‰ ${remainingAttempts} æ¬¡æ©Ÿæœƒã€‚`;
            guessInput.value = '';
            guessInput.focus();
        }

        // --- äº‹ä»¶ç›£è½å™¨ ---

        // 1. é»æ“Šé–‹å§‹éŠæˆ²æŒ‰éˆ• (åˆ‡æ›ç•«é¢)
        startGameButton.addEventListener('click', function() {
            welcomeScreen.style.display = 'none';
            gameScreen.style.display = 'block';
            initializeGame();
        });

        // 2. é»æ“Šã€ŒçŒœï¼ã€æŒ‰éˆ•
        submitGuessButton.addEventListener('click', checkGuess);

        // 3. åœ¨è¼¸å…¥æ¡†æŒ‰ Enter éµä¹Ÿå¯ä»¥çŒœ
        guessInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                e.preventDefault();
                checkGuess();
            }
        });

        // 4. é»æ“Šã€Œé‡æ–°é–‹å§‹ã€æŒ‰éˆ•
        resetGameButton.addEventListener('click', initializeGame);

        // åˆå§‹ç‹€æ…‹è¨Šæ¯
        document.getElementById('status-message').textContent = 'ç­‰å¾…ç¢ºèª...';

    </script>
</body>
</html>
